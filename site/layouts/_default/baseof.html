<!doctype html>
<html lang="{{ $.Site.Language.Lang }}">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <base href="{{ $.Site.BaseURL }}">
    <title>{{ $.Site.Title }} {{ with .Title }} - {{ . }}{{ end }}</title>
    
    {{ $stylesheet := .Site.Data.webpack.main }}
    {{ with $stylesheet.css }}
    <link href="{{ relURL . }}" rel="stylesheet">
    {{ end }}
    
    <meta name="description" content="{{ with .Description }}{{ . }}{{ else }}{{ .Site.Params.description }}{{ end }}">
    <link rel="icon" type="image/png" href="/favicon.png">
    
    {{ range .Site.Params.custom_css }}
    <link rel="stylesheet" href="{{ . | absURL }}">
    {{ end }}
    
    {{ block "head" . }}{{ end }}
  </head>
  <body class="{{ with .Section }}section-{{ . | urlize }}{{ end }}{{ with .Params.body_class }} {{ . }}{{ end }}">
    {{ block "header" . }}
    {{ partial "header" . }}
    {{ end }}
    
    <main class="main-content">
      {{ block "main" . }}{{ end }}
    </main>
    
    {{ block "footer" . }}
    {{ partial "footer" . }}
    {{ end }}
    
    {{ $script := .Site.Data.webpack.main }}
    {{ with $script.js }}
    <script src="{{ relURL . }}"></script>
    {{ end }}
    
    {{ range .Site.Params.custom_js }}
    <script src="{{ . | absURL }}"></script>
    {{ end }}
    
    {{ block "scripts" . }}{{ end }}
  </body>
</html>
